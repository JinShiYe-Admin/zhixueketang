<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>切换目录</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../../css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="../../js/swiper/swiper.min.css">
		<link rel="stylesheet" href="../../js/swiper/more-catalogs.css">
		<style type="text/css">
			.catalogs{
				margin-top: 18px;
			}
			.names{
				padding-left: 15px;
				width: 70px;
				position: absolute;
				background: white;
				z-index: 2;
			}
			.swiper-container{
				margin-left: 70px !important;
			}
			.fontcolor{
				color: #00CFBD;
			}
			.swiper-slide{
				height: 40px;
			}
		</style>
	</head>

	<body style="background: white;">
		<header class="mui-bar mui-bar-nav" style="background-color:#00CFBD;">
			<a  class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left" style="color: white;"></a>
			<h1 class="mui-title" style="color: white;">切换目录</h1>
			<a @click="sure" class="mui-pull-right" style="color: white;font-size: 15px;margin-top: 10px;">确定</a>
		</header>
		<div class="mui-content" style="background: white;">
			<div id="catalog">
				<!--顶部滑动菜单-->
				<div class="names">学段：</div>
				<div class="swiper-container catalogs" id="xueduan">
					<div class="swiper-wrapper">
						<div class="swiper-slide" :class="xd.ischeck==1?'fontcolor':''" v-for="(xd,index) in xueduan" @tap="catalogItemClick(xueduan,xd)">{{xd.name}}</div>
					</div>
				</div>
				<div class="names">科目：</div>
				<div class="swiper-container" id="kemu">
					<div class="swiper-wrapper">
						<div class="swiper-slide" :class="km.ischeck==1?'fontcolor':''" v-for="(km,index) in kemu"  @tap="catalogItemClick(kemu,km)">{{km.name}}</div>
					</div>
				</div>
				<div class="names">教版：</div>
				<div class="swiper-container" id="jiaoban">
					<div class="swiper-wrapper">
						<div class="swiper-slide" :class="jb.ischeck==1?'fontcolor':''" v-for="(jb,index) in jiaoban"  @tap="catalogItemClick(jiaoban,jb)">{{jb.name}}</div>
					</div>
				</div> 
				<div class="names">分册：</div>
				<div class="swiper-container" id="fence">
					<div class="swiper-wrapper">
						<div class="swiper-slide" :class="fc.ischeck==1?'fontcolor':''" v-for="(fc,index) in fence"  @tap="catalogItemClick(fence,fc)">{{fc.name}}</div>
					</div>
				</div>
				<!--底部目录列表-->
				<div class="catalogs-card">  
					<ul class="mui-table-view">
	                    <li class="mui-table-view-cell mui-collapse-3">
	                        <a class="mui-navigate-left" href="#">一级菜单1</a>
	                        <ul class="mui-table-view">
	                            <li class="mui-table-view-cell mui-collapse-3">
	                                <a class="mui-navigate-left" href="#">二级菜单1-1</a>
	                                <ul class="mui-table-view">
	                                    <li class="mui-table-view-cell">
	                                    	<a class="mui-navigate-left" href="#">3级菜单1-1</a>
	                                        <ul class="mui-table-view">
			                                    <li class="mui-table-view-cell">
			                                    	<a class="mui-navigate-left" href="#">4级菜单1-1</a>
			                                         <ul class="mui-table-view">
					                                    <li class="mui-table-view-cell">
					                                        <div class="mui-collapse-content">
					                                            <div class="mui-input-row">5内容1-1-1</div>
					                                            <div class="mui-input-row">5内容1-1-2</div>
					                                        </div>
					                                    </li>
					                                </ul>
			                                    </li>
			                                </ul>
	                                    </li>
	                                </ul>
	                            </li>
	                            <li class="mui-table-view-cell mui-collapse-3">
	                                <a class="mui-navigate-left" href="#">二级菜单1-2</a>
	                                <ul class="mui-table-view">
	                                    <li class="mui-table-view-cell">
	                                        <div class="mui-collapse-content">
	                                            <div class="mui-input-row">内容1-2-1</div>
	                                            <div class="mui-input-row">内容1-2-2</div>
	                                        </div>
	                                    </li>
	                                </ul>
	                            </li>
	                        </ul>
	                    </li>
	                    <li class="mui-table-view-cell mui-collapse-3">
	                        <a class="mui-navigate-left" href="#">一级菜单2</a>
	                        <ul class="mui-table-view">
	                            <li class="mui-table-view-cell mui-collapse-3">
	                                <a class="mui-navigate-left" href="#">二级菜单2-1</a>
	                                <ul class="mui-table-view">
	                                    <li class="mui-table-view-cell">
	                                        <div class="mui-collapse-content">
	                                            <div class="mui-input-row">内容2-1-1</div>
	                                            <div class="mui-input-row">内容2-1-2</div>
	                                        </div>
	                                    </li>
	                                </ul>
	                            </li>
	                            <li class="mui-table-view-cell mui-collapse-3">
	                                <a href="#">二级菜单2-2</a>
	                            </li>
	                        </ul>
	                    </li>
	                    <li class="mui-table-view-cell mui-collapse-3">
	                        <a href="#">一级菜单3</a>
	                    </li>
	                </ul>
                </div>
			</div>
		</div>
		<script type="text/javascript" src="../../js/mui.min.js"></script>
		<script type="text/javascript" src="../../js/utils/vue.js"></script>
		<script src="../../js/demoCssJs/jquery-2.1.4.js"></script>
		<script type="text/javascript" src="../../js/swiper/swiper.js"></script>
		<!--加密-->
		<script src="../../js/libs/RSA/Barrett.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/libs/RSA/BigInt.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/libs/RSA/RSA.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/utils/RSAEncrypt.js" type="text/javascript" charset="utf-8"></script>
		<!---->
		<script type="text/javascript" src="../../js/utils/vconsole.min.js"></script>
		<script src='../../js/libs/crypto-js/require.js'></script>
		<script src='../../js/utils/signHmacSHA1.js'></script>
		
		<script src="../../js/publicProtocolNew.js"></script>
		<script src='../../js/utils/sortSign.js'></script>
		<script src="../../js/storageKeyName.js"></script>
		<script src="../../js/utils/store.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/utils/utils.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/utils/storageutil.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/utils/events.js"></script>
		<script src="../../js/mui/mui.picker.js"></script>
		<script src="../../js/mui/mui.poppicker.js"></script>
		<script src="../../js/swiper/more-catalogs.js"></script>
		
		<script type="text/javascript">
			mui.init();
			
			mui.plusReady(function() {
				var wv = plus.webview.currentWebview(); 
				// 关闭侧滑返回功能
				wv.setStyle({
					'popGesture': 'none'
				});
			});
			
			
			var catalog=new Vue({
				el:'#catalog',
				data:{
					xueduan:[{ischeck:1,name:"初中"},{ischeck:0,name:"高中"}],
					kemu:[{ischeck:1,name:"语文"},{ischeck:0,name:"数学"},{ischeck:0,name:"英语"},{ischeck:0,name:"物理"},{ischeck:0,name:"化学"},{ischeck:0,name:"生物"},{ischeck:0,name:"政治"},{ischeck:0,name:"历史"},{ischeck:0,name:"地理"}],
					jiaoban:[{ischeck:1,name:"人教版"},{ischeck:0,name:"苏教版"}],
					fence:[{ischeck:1,name:"七年级"},{ischeck:0,name:"八年级"}],
					expandData:[{
									id:'1',
									text: '上册',
									children:[
										{id:'1',text: '第一章 字音字形',children: [
								                {id:'1',text: '第一课 字音',children: [
								                	 {id:'1',text: '第一节 AAA'},
								                	 {id:'2',text: '第二节 BBB'}
								                ]},
								                {id:'2',text: '第二课 字形'}
					                		]
										},
					             		{id:'2',text: '第二章 多音字'},
					             		{id:'3',text: '第三章 易误读常见字'},
					             		{id:'4',text: '第四章 语言基础知识'},
					             		{id:'5',text: '一级菜单',children: [
								                {id:'1',text: '二级菜单1',children: [
								                	 {id:'1',text: '三级菜单1',children: [
									                	 {id:'1',text: '四级菜单1',children: [
										                	 {id:'1',text: '五级菜单1'},
										                	 {id:'2',text: '五级菜单2'}
										                ]},
									                	 {id:'2',text: '四级菜单2'}
									                ]},
								                	 {id:'2',text: '三级菜单1'}
								                ]},
								                {id:'2',text: '二级菜单2'}
					                	]},
					             	]
		          				},
		          				{
									id:'1',
									text: '上册',
									children:[
										{id:'1',text: '第一章 字音字形',children: [
								                {id:'1',text: '第一课 字音',children: [
								                	 {id:'1',text: '第一节 AAA'},
								                	 {id:'2',text: '第二节 BBB'}
								                ]},
								                {id:'2',text: '第二课 字形'}
					                		]
										},
					             		{id:'2',text: '第二章 多音字'},
					             		{id:'3',text: '第三章 易误读常见字'},
					             		{id:'4',text: '第四章 语言基础知识'}
					             	]
		          				},
						        {
						        	id:'2',
						        	text: '下册',
						            children:[
										{id:'1',text: '第一章 英语'},
					             		{id:'2',text: '第二章 德语'}
					             	]
						        },
						        {
						        	id:'3',
						        	text: '中册'
						        }]
				},
				methods:{
					catalogItemClick:function(parent,item){
						for(var i=0;i<parent.length;i++){
							var child=parent[i];
							child.ischeck=0;
						}
						item.ischeck=1;
						console.log("选择的是这个:"+JSON.stringify(item));
					}
				},
				mounted: function () {
					var swiper = new Swiper('.swiper-container', {
					  	slidesPerView: 5,//菜单可见个数
					  	spaceBetween: 10,//间隔
					  	freeMode: true,//自由滑动模式
					  	noSwiping : true,//禁止滑动
					});
					/*初始化多级菜单*/
					initLinstening();
		        },
			});
		</script>
	</body>

</html>
